/// <reference path="../typings/server.d.ts" />
'use strict';
//Main Server
var express = require('express');
var cors = require('cors');
var bodyParser = require('body-parser');
var mongoose = require('mongoose');
var mongoURI = 'mongodb://localhost:27017/church-notes-portal', port = 8887;
var routes_1 = require('./config/routes');
var app = express();
app.use(bodyParser.json());
app.use(cors());
routes_1.routes(app, port);
mongoose.connect(mongoURI);
mongoose.connection.once('open', function () {
    console.log('Connected to the Mongo DB at ' + mongoURI);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrQ0FBK0M7QUFDL0MsWUFBWSxDQUFDO0FBQ2IsYUFBYTtBQUNiLElBQU8sT0FBTyxXQUFXLFNBQVMsQ0FBQyxDQUFBO0FBQ25DLElBQU8sSUFBSSxXQUFXLE1BQU0sQ0FBQyxDQUFDO0FBQzlCLElBQU8sVUFBVSxXQUFXLGFBQWEsQ0FBQyxDQUFDO0FBQzNDLElBQU8sUUFBUSxXQUFXLFVBQVUsQ0FBQyxDQUFDO0FBRXRDLElBQUksUUFBUSxHQUFHLCtDQUErQyxFQUM3RCxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBRWIsdUJBQXFCLGlCQUFpQixDQUFDLENBQUE7QUFFdkMsSUFBSSxHQUFHLEdBQUcsT0FBTyxFQUFFLENBQUM7QUFHcEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUMzQixHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7QUFFaEIsZUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUVsQixRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzNCLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtJQUNoQyxPQUFPLENBQUMsR0FBRyxDQUFDLCtCQUErQixHQUFHLFFBQVEsQ0FBQyxDQUFBO0FBQ3hELENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6InNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3NlcnZlci5kLnRzXCIgLz5cclxuJ3VzZSBzdHJpY3QnO1xyXG4vL01haW4gU2VydmVyXHJcbmltcG9ydCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpXHJcbmltcG9ydCBjb3JzID0gcmVxdWlyZSgnY29ycycpO1xyXG5pbXBvcnQgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XHJcbmltcG9ydCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcblxyXG5sZXQgbW9uZ29VUkkgPSAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9jaHVyY2gtbm90ZXMtcG9ydGFsJyxcclxuXHRwb3J0ID0gODg4NztcclxuXHJcbmltcG9ydCB7cm91dGVzfSBmcm9tICcuL2NvbmZpZy9yb3V0ZXMnO1xyXG5cdFxyXG5sZXQgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuXHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcblxyXG5yb3V0ZXMoYXBwLCBwb3J0KTtcclxuXHJcbm1vbmdvb3NlLmNvbm5lY3QobW9uZ29VUkkpO1xyXG5tb25nb29zZS5jb25uZWN0aW9uLm9uY2UoJ29wZW4nLCBmdW5jdGlvbigpIHtcclxuXHRjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIHRoZSBNb25nbyBEQiBhdCAnICsgbW9uZ29VUkkpXHJcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
